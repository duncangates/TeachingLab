---
params:
  matched: "unmatched"
  partner: "Delaware Department of Education, DE"
title: "`r params$partner`"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
  rmdformats::readthedown:
    css: styles.css
    self_contained: true # Other options are downcute, material, readthedown, html_clean, html_docco, lockdown, https://github.com/juba/rmdformats
    thumbnails: false
    lightbox: true
    gallery: false
    highlight: kate # Also can do tango
    number_sections: false
    includes:
      after_body: footer.html
---


```{r setup, include=FALSE}
library(knitr)
library(rmdformats)
library(glue)
devtools::load_all()
library(TeachingLab)
library(googlesheets4)

data <- if (params$matched == "matched") {
  read_rds(here::here("Data/SY20-21/matched_2021.rds"))
} else if (params$matched == "unmatched") {
  read_rds(here::here("Data/SY20-21/full_2021.rds"))
}

matched_2021 <- read_rds(here::here("Data/SY20-21/matched_2021.rds"))

data <- read_rds(here::here("Data/SY20-21/full_2021.rds"))

# Create vectors for correctness
positive_vector <- c("4", "5")
negative_vector <- c("1", "2")

## Global options
options(max.print = "75")
opts_chunk$set(
  echo = FALSE,
  cache = TRUE,
  prompt = FALSE,
  tidy = TRUE,
  comment = NA,
  message = FALSE,
  warning = FALSE
)
opts_knit$set(width = 75)
```

```{r}
htmltools::tagList(rmarkdown::html_dependency_font_awesome()) # Needed so fa's in footer will show
```

#### 2020-2021 Report

## Background

In SY20-21, Teaching Lab administered online diagnostic and follow-up surveys of educators participating in Teaching Lab’s professional learning in order to measure growth and improvement in three different areas: 1) Educator Mindsets and Beliefs, 2) School Environment, and 3) Content and Pedagogical Content Knowledge. There were `r data %>% filter(!is.na(pre_site) & pre_site == params$partner) %>% summarise(n()) %>% as_vector()` educators who completed the diagnostic survey, `r data %>% filter(is.na(pre_site) & post_site == params$partner) %>% summarise(n()) %>% as_vector()` educators who completed the follow-up survey, and `r matched_2021 %>% filter(!is.na(pre_site) & pre_site == params$partner) %>% summarise(n()) %>% as_vector()` educators who completed both.


## Summary of Results

### Methodology and Presentation of Results
We have provided two types of results for each section:
The results in the `r colorize("first three columns", "#04ABEB")` of the table refer to the `r colorize("overall group averages", "#04ABEB")`. We provide the `r colorize("group average for the diagnostic", "#04ABEB")` and `r colorize("follow-up", "#04ABEB")` surveys as well as the `r colorize("percentage point change", "#04ABEB")` (increase or decrease) over this time. It is important to note that the group that completed the diagnostic survey and the group that completed the follow-up survey are different in size.
The results in the fourth column reflect the percentage of educators who improved their responses or sustained the highest level response from the diagnostic to follow-up survey. This group of educators is the same for both surveys and is smaller in size.

### Section 1: Mindsets and Beliefs
Educators were asked a series of questions about their mindsets toward instruction and students on a 5-point Likert scale from 1- Strongly disagree to 5- Strongly agree. The questions focused on four core constructs surrounding mindsets and beliefs, specifically the recognition of race and culture, growth mindsets, high expectations, and taking accountability for equitable instruction.

[INSERT TABLE 1 MINDSETS]

```{r}
index <- tibble(question_pre = c("prerace1", "prerace2", "prehigh2", "prehigh3", "prehigh4", "prehigh1", "pregrowth1", "pregrowth2", "preacc1", "preacc2", "preacc3"),
                question_post = c("postrace1", "postrace2", "posthigh2", "posthigh3", "posthigh4", "posthigh1", "postgrowth1", "postgrowth2", "postacc1", "postacc2", "postacc3"),
                coding = list(negative_vector, negative_vector, negative_vector, negative_vector, negative_vector, positive_vector, negative_vector, negative_vector, positive_vector, positive_vector, positive_vector))

unmatched_both_mindsets <- pmap_df(list(index$question_pre, index$question_post, index$coding), 
                                   ~ score_question_improved(data %>% filter(post_site == params$partner | pre_site == params$partner), 
                                                             question_pre = ..1, question_post = ..2, coding = ..3))

unmatched_both_mindsets %>%
  gt::gt()
```


The plot illustrates educators’ average scores from the diagnostic and follow-up surveys, which corresponds to the information in the first three columns of the table. `r colorize("Orange represents the diagnostic scores", "#FF7B43")`, and `r colorize("blue represents the follow-up scores", "#04ABEB")`. The arrows represent the directionality, showing an increase or decrease in the average scores.

[INSERT FIGURE 1 MINDSETS]

```{r}

```


### Section 2: School Environment
Educators were asked about their school environment, including culture and climate on a 5-point Likert scale from 1- Strongly disagree to 5- Strongly agree. Specifically, educators were asked about trust and connectedness to other educators, their role in shaping their own professional learning, and confidence in implementing the curriculum in a way that maximizes positive impact for student learning. 

[INSERT TABLE 2 SCHOOL ENVIRONMENT]

```{r}
index <- tibble(question_pre = c("preschool1", "preschool2", "preschool3", "preschool4", "preobs1", "preobs2", "preobs3"),
                question_post = c("postschool1", "postschool2", "postschool3", "postschool4", "postobs1", "postobs2", "postobs3"),
                coding = list(positive_vector, positive_vector, positive_vector, positive_vector, positive_vector, positive_vector, positive_vector))

unmatched_environment <- pmap_df(list(index$question_pre, index$question_post, index$coding), 
        ~ score_question_improved(data %>% filter(post_site == params$partner | pre_site == params$partner), 
                                  question_pre = ..1, question_post = ..2, coding = ..3))

unmatched_environment %>%
  gt::gt()
```


The plot illustrates the shifts in educators’ reported culture and climate, which corresponds to the information in the first three columns of the table. `r colorize("Orange represents", "#FF7B43")` the percentage of educators with positive perceptions in the `r colorize("diagnostic survey", "#FF7B43")`, and `r colorize("blue represents", "#04ABEB")` the percentage in the `r colorize("follow-up survey", "#04ABEB")`. The arrows represent the directionality, showing an increase or decrease in the percent of educators who agreed or strongly agreed with the items.

[INSERT FIGURE 2 SCHOOL ENVIRONMENT]

```{r}

```

### Section 3: Content and Pedagogical Content Knowledge
Educators were asked a series of questions about their knowledge of instructional shifts and evidence-based instructional practices in their content area.

### Section 3a: ELA Content and Pedagogical Content Knowledge 
In ELA, the questions focused on seven core constructs, as shown in the table.

[INSERT TABLE 3 ELA KNOWLEDGE]

```{r}
index <- tibble(question_pre = c("preelagen1a", "preelagen1b", "preelagen1c", "preelagen1d", 
"preelagen2", "preelafluency1a", "preelafluency1b", "preelafluency1c", 
"preelafluency1d", "preelafluency2", "preelatext1", "preelatext2a", 
"preelatext2b", "preelatext2c", "preelatext2d", "preelaevi1a", 
"preelaevi1b", "preelaevi1c", "preelaevi1d", "preelaevi2", 
"preelaknow1", "preelaknow2", "preelasupp1", "preelasupp2a", 
"postelasupp2b", "postelasupp2c", "postelasupp2d"),
                question_post = c("postelagen1a", "postelagen1b", "postelagen1c", "postelagen1d", 
"postelagen2", "postelafluency1a", "postelafluency1b", "postelafluency1c", 
"postelafluency1d", "postelafluency2", "postelatext1", "postelatext2a", 
"postelatext2b", "postelatext2c", "postelatext2d", "postelaevi1a", 
"postelaevi1b", "postelaevi1c", "postelaevi1d", "postelaevi2", 
"postelaknow1", "postelaknow2", "postelasupp1", "postelasupp2a", 
"postelasupp2b", "postelasupp2c", "postelasupp2d"),
                coding = list("Yes", 
                              "Yes", 
                              "No", 
                              "No", 
                              "A complex text that is worthy of reading multiple times.", 
                              "TRUE", 
                              "TRUE", 
                              "FALSE", 
                              "FALSE", 
                              "Students independently read aloud texts at their reading level.", 
                              "Ability to read complex text independently and proficiently.", 
                              "Yes", 
                              "Yes", 
                              "No", 
                              "No", 
                              "TRUE", 
                              "TRUE", 
                              "FALSE", "
                              FALSE", 
                              "Students pull out evidence from the text to explain their thinking in response to questions.", 
                              "Students with low reading ability and a lot of knowledge about the food chain.", 
                              "Have students read a series of additional texts at a variety of complexity levels on the topic.", 
                              "Provide students with lower reading abilities an audio version of the main text to listen to before reading the main text in class.",
                              "Yes", 
                              "Yes", 
                              "No", 
                              "No"))

# score_question_improved(data = fall_spring_legacy, question_pre = c("preschool1"), question_post = c("postschool1"), coding = positive_vector)
unmatched_ela_both <- pmap_df(list(index$question_pre, index$question_post, index$coding), ~ 
                                score_question_improved(data %>% 
                                                          filter(post_site == params$partner | pre_site == params$partner), question_pre = ..1, question_post = ..2, coding = ..3))

unmatched_ela_both %>%
  gt::gt()
```


The plot illustrates the shift in educators’ average scores for ELA content and pedagogical content knowledge, which corresponds to the information in the first three columns of the table. `r colorize("Orange represents the diagnostic scores", "#FF7B43")`, and `r colorize("blue represents the follow-up scores", "#04ABEB")`. The arrows represent the directionality, showing an increase or decrease of average scores. 

[INSERT FIGURE 3 ELA KNOWLEDGE]

```{r}

```


### Section 3b: Math Content and Pedagogical Content Knowledge 
In Mathematics, the questions focused on four core constructs, as shown in the table.

[INSERT TABLE 4 MATH KNOWLEDGE]

```{r}
index <- tibble(question_pre = c("mathgen1a.x", "mathgen1b.x", "mathgen1c.x", "mathgen1d.x", 
"mathgen2.x", "mathgen3a.x", "mathgen3b.x", "mathgen3c.x", "mathgen3d.x", 
"matheq1.x", "matheq2a.x", "matheq2b.x", "matheq2c.x", "matheq2d.x", 
"matheq3.x", "mathsupp1.x", "mathsupp2a.x", "mathsupp2b.x", "mathsupp2c.x", 
"mathsupp2d.x", "matheff1a.x", "matheff1b.x", "matheff1c.x", 
"matheff1d.x", "matheff2.x", "matheff3.x"),
                question_post = c("mathgen1a.y", "mathgen1b.y", "mathgen1c.y", "mathgen1d.y", 
"mathgen2.y", "mathgen3a.y", "mathgen3b.y", "mathgen3c.y", "mathgen3d.y", 
"matheq1.y", "matheq2a.y", "matheq2b.y", "matheq2c.y", "matheq2d.y", 
"matheq3.y", "mathsupp1.y", "mathsupp2a.y", "mathsupp2b.y", "mathsupp2c.y", 
"mathsupp2d.y", "matheff1a.y", "matheff1b.y", "matheff1c.y", 
"matheff1d.y", "matheff2.y", "matheff3.y"),
                coding = list("Yes",
                              "Yes",
                              "No",
                              "No",
                              "Procedural knowledge should be built from conceptual understanding.",
                              "TRUE",
                              "TRUE",
                              "FALSE",
                              "FALSE",
                              "Creating opportunities for students to practice saying out loud how they solved for a problem.",
                              "TRUE",
                              "TRUE",
                              "FALSE",
                              "FALSE",
                              "Enables teachers to make in-the-moment decisions on how to respond to students with questions and prompts that probe, scaffold, and extend to meet various learning needs.",
                              "Identifying unfinished learning leading up to the current topic and teach 1-2 lessons targeting those prerequisites at the beginning of the topic.",
                              "Yes",
                              "Yes",
                              "No",
                              "No",
                              "TRUE",
                              "TRUE",
                              "FALSE",
                              "FALSE",
                              "What’s the first step?",
                              "Explicitly teaching students how to use certain representations."))

unmatched_math_both <- pmap_df(list(index$question_pre, index$question_post, index$coding), ~ 
                                 score_question_improved(data %>% 
                                                          filter(post_site == params$partner | pre_site == params$partner), question_pre = ..1, question_post = ..2, coding = ..3))

unmatched_math_both %>%
  gt::gt()
```


The plot illustrates the shift in educators’ average scores for Math content and pedagogical content knowledge, which corresponds to the information in the first three columns of the table. `r colorize("Orange represents the diagnostic scores", "#FF7B43")`, and `r colorize("blue represents the follow-up scores", "#04ABEB")`. The arrows represent the directionality, showing an increase or decrease of average scores.

[INSERT FIGURE 4 MATH KNOWLEDGE]

```{r}

```


### Section 4: Teacher Practices
Coaches, leaders, and/or administrators were asked about the areas they focus on when observing teachers in general and also whether they observe differences in teaching practices between teachers who have participated in Teaching Lab professional learning and teachers who have not.

First, coaches, leaders, and/or administrators were asked whether they focus on the following areas when observing teachers: 
The lesson is focused on a high-quality text or task.
The questions and tasks address the analytical thinking required by the grade-level standards.
All students have opportunities to engage in the work of the lesson.

[INSERT TABLE 5 Observing Teacher Practices]

```{r}
index <- tibble(question_pre = c("preobs1",
                                  "preobs2",
                                  "preobs3"),
                question_post = c("postobs1",
                                  "postobs2",
                                  "postobs3"),
                coding = list(positive_vector, positive_vector, positive_vector))

unmatched_admins <- pmap_df(list(index$question_pre, index$question_post, index$coding), 
        ~ score_question_improved(data %>% 
                                                          filter(post_site == params$partner | pre_site == params$partner), question_pre = ..1, question_post = ..2, coding = ..3))

unmatched_admins %>%
  gt::gt()
```


The plot illustrates the shifts in coaches, leaders, and/or administrators’ reported observation practices, which corresponds to the information in the first three columns of the table. `r colorize("Orange represents", "#FF7B43")` the percentage who always or almost always focus on these aspects in the `r colorize("diagnostic survey", "#FF7B43")`, and `r colorize("blue represents", "#04ABEB")` the percentage in the `r colorize("follow-up survey", "#04ABEB")`. The arrows represent the directionality, showing an increase or decrease in the percent of educators who  always or almost always focus on these aspects.

[INSERT FIGURE 5 Observing Teacher Practices]

```{r}

```


Coaches, leaders, and/or administrators were also asked to compare teaching practices between Teaching Lab participants and non-Teaching Lab participants in the follow-up survey. They were asked about the same three areas above.

[INSERT TABLE 6 Teacher Practices]

```{r}
index <- tibble(question_pre = c("postadmin1",
  "postadmin2",
  "postadmin3"),
                question_post = c("postadmin4",
  "postadmin5",
  "postadmin6"),
                coding = list(c("Often", "Almost always"), c("Often", "Almost always"), c("Often", "Almost always")))

unmatched_teacher_practices <- pmap_df(list(index$question_pre, index$question_post, index$coding), 
        ~ score_question_improved(full_2021, question_pre = ..1, question_post = ..2, coding = ..3)) %>%
  distinct(question, .keep_all = T)

unmatched_teacher_practices %>%
  gt::gt()
```


The graph illustrates the differences in teaching practices between teachers who have participated in Teaching Lab professional learning and teachers who have not, as reported by the coaches, leaders, and/or administrators.

[INSERT FIGURE 6 Teacher Practices]

```{r}

```


### Section 5: Lab Leaders
Lab Leaders were asked about their engagement in different activities, such as leading professional learning, leading PLC meetings, coaching teachers, sharing information and resources, and improving their own instructional practices.

[INSERT TABLE 7 Lab Leaders]

```{r}

```


The graph below illustrates the Lab Leaders participation in different activities.

[INSERT FIGURE 7 Lab Leaders]

```{r}

```


### Section 6: Student Work

TO BE DEVELOPED (TBD)

### Section 7: Classroom observations

TBD

### Section 8: Participant Feedback
*Participant feedback from the dashboard (no filters)
*Participant feedback from below (post_gainsqual)

3 questions:
post_gainsqual
Overall, what did you gain from the professional learning you received from Teaching Lab this year?
post_improvequal
Overall, what could have improved about the professional learning you received from Teaching Lab this year?
pre_comments
post_comments
pre: If you have questions or comments about this diagnostic or your partnership with Teaching Lab, please let us know.
post: We’d appreciate any other feedback you have about Teaching Lab’s professional learning this year.
